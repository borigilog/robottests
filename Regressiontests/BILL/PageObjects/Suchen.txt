*** Variables ***
${btnSearch}      //button[@id="/$flow_main/$flow_content/search"]    # Search Button
${btnAbort}       //button[@id="/$flow_main/$flow_content/abort"]
${btnBack}        //*[@id="/$flow_main/$flow_content/back"]
${btnStartDay}    //button[@id="/$flow_main/$flow_content/startdate/$popover0/calendar/Daten"]
${btnEndDay}      //button[@id="/$flow_main/$flow_content/enddate/$popover0/calendar/Daten"]
${btnPopOverOk}    //button[@id="/$flow_main/$popover0/btn1"]
${btnPopOverAbort}    //button[@id="/$flow_main/$popover0/btn0"]
${btnCreateBill}    //button[@id="/$flow_main/$flow_content/createBill"]
${btnEditBill}    //button[@id="/$flow_main/$flow_content/editBill"]
${btnDeleteBill}    //button[@id="/$flow_main/$flow_content/deleteBill"]
${btnIsProcessedBill}    //button[@id="/$flow_main/$flow_content/isprocessedBill"]
${btnViewBill}    //button[@id="/$flow_main/$flow_content/viewBill"]
${btnRecalculate}    //button[@id="/$flow_main/$flow_content/recalculate"]
${InputBillNumber}    //input[@id="/$flow_main/$flow_content/billNr"]    # Input field for Bill number
${InputBillName}    //input[@id="/$flow_main/$flow_content/billName"]    # Input field for bill name
${InputStartDate}    //input[@id="/$flow_main/$flow_content/startdate/date"]    # Input field for start date for Search
${InputEndDate}    //input[@id="/$flow_main/$flow_content/enddate/date"]    # Input field for end date for Search
${PickerEndDate}    //*[@id="/$flow_main/$flow_content/enddate/pick"]    # date picker for end date
${PickerStartDate}    //*[@id="/$flow_main/$flow_content/startdate/pick"]    # Date picker for start date
${SelectDeletedBills}    //input[@id="/$flow_main/$flow_content/showDeletedBills"]    # Selector to include deleted bills
${OptionIncludeSubMandator}    //input[@id="/$flow_main/$flow_content/includeSubmandators"]
${OptionIncludeDeletedBills}    //input[@id="/$flow_main/$flow_content/showDeletedBills"]
${OptionIncludePublishedBills}    //input[@id="/$flow_main/$flow_content/ShowOnlyOpenBills"]
${OptionIncludeProformaBills}    //input[@id="/$flow_main/$flow_content/ShowProformaBills"]
${OptionIncludeProcessedBills}    //input[@id="/$flow_main/$flow_content/ShowProcessedBills"]
${STATUS_GELÖSCHT}    Gelöscht
${STATUS_IN_BEARBEITUNG}    In Bearbeitung
${STATUS_VERÖFFENTLICHT}    Veröffentlicht
${STATUS_VERARBEITET}    Verarbeitet

*** Keywords ***
Clear All Search Options
    [Documentation]    Keyword clears all Search Options, Errors will be caught in case of a smaller number of Options on a particular page
    ...
    ...    Ersteller: O. Baeker
    ...
    ...    erstellt am: 04.04.2018
    ${Result}    ${msg}=    Run Keyword And Ignore Error    Unselect Checkbox    ${OptionIncludeSubMandator}
    ${Result}    ${msg}=    Run Keyword And Ignore Error    Unselect Checkbox    ${OptionIncludeDeletedBills}
    ${Result}    ${msg}=    Run Keyword And Ignore Error    Unselect Checkbox    ${OptionIncludePublishedBills}
    ${Result}    ${msg}=    Run Keyword And Ignore Error    Unselect Checkbox    ${OptionIncludeProformaBills}
    ${Result}    ${msg}=    Run Keyword And Ignore Error    Unselect Checkbox    ${OptionIncludeProcessedBills}

Get Number of Bill Search Results
    [Arguments]    ${Status}=None
    [Documentation]    Key durchsucht die Suchergebnisse nach Rechnungen in einem bestimmten Status und liefert als Ergebnis die Anzahl der gefudenen Rechnungen in diesem Status zurück
    ...
    ...    Ersteller: O. Baeker
    ...
    ...    IN
    ...    - Status - Status in dem Rechnungen gezählt werden sollen
    ...
    ...    OUT
    ...    - Anzahl der gefunden Rehcnungen in idesem Status
    ...
    ...    erstellt am: 04.04.2018
    ${NoOfResults}=    Set Variable    0
    : FOR    ${Index}    IN RANGE    0    100
    \    ${Result}    ${msg}=    Run Keyword And Ignore Error    Click Element    //*[@id="/$flow_main/$flow_content/invoice_list/${Index}/$invoiceNumber"]
    \    Run Keyword If    '${Result}'=='FAIL'    Exit For Loop
    \    ${StatusRead}=    Get Text    //*[@id="/$flow_main/$flow_content/invoice_list/${Index}/$status"]
    \    Run Keyword If    '${StatusRead}'!='${Status}'    Run Keyword If    '${Status}'!='None'    Continue For Loop
    \    ${NoOfResults}    Evaluate    ${NoOfResults}+1
    [Return]    ${NoOfResults}    # Suchergebnisse entsprechend dem angegebenen Status der Rechnungen
